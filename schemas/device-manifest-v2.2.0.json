{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "description": "Canonical schema for device inventory manifests in RylanLabs infrastructure",
  "properties": {
    "devices": {
      "items": {
        "properties": {
          "hostname": {
            "description": "FQDN or hostname",
            "type": "string"
          },
          "id": {
            "description": "Unique device identifier",
            "pattern": "^[a-zA-Z0-9_-]+$",
            "type": "string"
          },
          "ip_address": {
            "description": "IPv4 address",
            "format": "ipv4",
            "type": "string"
          },
          "role": {
            "description": "Assigned roles/tags",
            "items": {
              "type": "string"
            },
            "type": "array"
          },
          "status": {
            "default": "active",
            "description": "Device operational status",
            "enum": [
              "active",
              "inactive",
              "deprecated"
            ],
            "type": "string"
          },
          "type": {
            "description": "Device type classification",
            "enum": [
              "server",
              "workstation",
              "router",
              "switch",
              "firewall"
            ],
            "type": "string"
          }
        },
        "required": [
          "id",
          "hostname",
          "type"
        ],
        "type": "object"
      },
      "type": "array"
    },
    "metadata": {
      "properties": {
        "created": {
          "description": "Creation timestamp",
          "format": "date-time",
          "type": "string"
        },
        "environment": {
          "description": "Deployment environment",
          "enum": [
            "production",
            "staging",
            "development"
          ],
          "type": "string"
        },
        "owner": {
          "description": "Team or contact owning this manifest",
          "type": "string"
        },
        "region": {
          "description": "Geographic region identifier",
          "type": "string"
        }
      },
      "type": "object"
    },
    "version": {
      "description": "Schema version for this manifest",
      "enum": [
        "2.2.0"
      ],
      "type": "string"
    }
  },
  "required": [
    "version",
    "devices"
  ],
  "title": "Device Manifest Schema",
  "type": "object",
  "version": "2.2.0"
}
